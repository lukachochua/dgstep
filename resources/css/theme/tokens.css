/* Shared DGstep theme tokens, palettes, and typography.
   Imported by the marketing app and the Filament admin theme so both
   surfaces stay in sync without duplicating values. */

@theme {
  /* Typography */
  --font-sans: "Calibri", ui-sans-serif, system-ui, sans-serif;

  /* Primary (Pantone 2727 → #5B56D6) */
  --color-brand-50:  #efeefd;
  --color-brand-100: #e3e1fb;
  --color-brand-200: #c7c4f6;
  --color-brand-300: #aaa6f1;
  --color-brand-400: #8d85ea;
  --color-brand-500: #5b56d6;  /* MAIN */
  --color-brand-600: #4f4ac2;  /* hover */
  --color-brand-700: #433fa8;
  --color-brand-800: #37348c;  /* focus/deeper */
  --color-brand-900: #2c2a70;
  --color-brand-950: #1e1c4a;

  /* Alternate accents (light) */
  --color-accent-1: #6c63ff;
  --color-accent-1-600: #5a52f5;
  --color-accent-2: #7aa2ff;
  --color-accent-2-600: #5f8dff;

  /* Neutrals */
  --neutral-black:   #000000;
  --neutral-900:     #222228;
  --neutral-400:     #9aa0a6;
  --neutral-300:     #c9cdd2;
  --neutral-200:     #e5e8ea;
  --neutral-white:   #ffffff;

  /* Status */
  --color-success: #16a34a;
  --color-warning: #f59e0b;
  --color-danger:  #ef4444;

  /* Electric helpers map to brand purple by default */
  --color-electric-sky:        var(--color-brand-500);
  --color-electric-sky-hover:  var(--color-brand-600);
  --color-electric-sky-focus:  var(--color-brand-800);

  /* Layout & polish */
  --container-content: 72rem; /* 1152px */
  --radius-xl:  0.875rem;
  --radius-2xl: 1rem;
  --radius-3xl: 1.25rem;

  --shadow-brand: 0 12px 24px color-mix(in oklab, var(--color-brand-500) 28%, transparent);
  --shadow-soft:  0 6px 18px rgba(0,0,0,0.22);

  --ease-brand: cubic-bezier(.22,.61,.36,1);
}

/* ──────────────────────────────────────────────────────────────
   Root tokens (unified)
   ────────────────────────────────────────────────────────────── */
:root {
  /* Page defaults (dark-first to prevent flash) */
  --bg-default:   #2c2a70;
  --text-default: #f3f2ff;
  --bg-elevated:  #161821;

  /* NAV defaults */
  --nav-bg:        rgba(24,24,27,0.60);
  --nav-border:    rgba(255,255,255,0.12);
  --mobile-nav-bg: rgba(24,24,27,0.96);
  --nav-fg:        #f3f2ff;
  --nav-fg-muted:  rgba(243,242,255,0.82);
  --nav-blur:      12px;

  /* Two-story navbar tokens */
  --nav-top-bg:     var(--nav-bg);
  --nav-bottom-bg:  color-mix(in oklab, var(--nav-bg) 85%, #fff 15%);
  --nav-divider-bg: linear-gradient(90deg, transparent, rgba(255,255,255,.10), transparent);

  /* Footer defaults */
  --footer-bg:     color-mix(in oklab, var(--color-brand-950) 92%, #000 8%);
  --footer-fg:     #f3f2ff;
  --footer-border: rgba(255,255,255,.12);

  /* CSS-only Navbar Height Tokens */
  --nav-top-h: 64px;     /* mobile default */
  --nav-bottom-h: 0px;
  --nav-divider-h: 0px;
  --navbar-h: calc(var(--nav-top-h));
}

/* md: taller single-story top */
@media (min-width: 768px) {
  :root { --nav-top-h: 80px; }
}

/* lg+: two-story split — keep total the SAME, split 55% / 45% */
@media (min-width: 1024px) {
  :root {
    --navbar-target-lg: 122px; /* top + bottom only */
    --nav-top-h:    calc(var(--navbar-target-lg) * 0.55);
    --nav-bottom-h: calc(var(--navbar-target-lg) * 0.45);
    --nav-divider-h: 1px;
    --navbar-h: calc(var(--nav-top-h) + var(--nav-divider-h) + var(--nav-bottom-h));
  }
}

/* LIGHT THEME OVERRIDES */
:root[data-theme="light"],
html.fi:not(.dark) {
  /* Page */
  --bg-default:   var(--color-brand-100);
  --text-default: var(--neutral-900);
  --bg-elevated:  var(--neutral-white);

  /* NAV (solid purple bar w/ white ink) */
  --nav-bg:        color-mix(in oklab, var(--nav-bottom-bg, #726EDB) 85%, transparent);
  --nav-border:    rgba(255,255,255,0.12);
  --mobile-nav-bg: #726EDB;
  --nav-fg:        #ffffff;
  --nav-fg-muted:  rgba(255,255,255,0.90);
  --nav-blur:      0px;

  /* Two-story */
  --nav-top-bg:     var(--nav-bg);
  --nav-bottom-bg:  #726EDB;
  --nav-divider-bg: linear-gradient(90deg, transparent, rgba(255,255,255,.22), transparent);

  /* Chips on solid bar */
  --nav-link-bg:         color-mix(in oklab, #ffffff 12%, transparent);
  --nav-link-hover-bg:   color-mix(in oklab, #ffffff 18%, transparent);
  --nav-link-active-bg:  #726EDB;

  /* Buttons — light */
  --btn-primary-bg:       color-mix(in oklab, #6c63ff 84%, white 16%);
  --btn-primary-bg-hover: color-mix(in oklab, #6c63ff 74%, white 26%);
  --btn-primary-fg:       #ffffff;
  --btn-primary-shadow:   0 10px 22px color-mix(in oklab, #6c63ff 28%, transparent);

  --btn-secondary-bg:       transparent;
  --btn-secondary-bg-hover: color-mix(in oklab, var(--color-accent-2) 16%, transparent);
  --btn-secondary-fg:       var(--color-brand-800);
  --btn-secondary-border:   color-mix(in oklab, var(--color-accent-2) 60%, transparent);

  --btn-subtle-bg:          color-mix(in oklab, var(--neutral-300) 55%, transparent);
  --btn-subtle-bg-hover:    color-mix(in oklab, var(--neutral-300) 72%, transparent);
  --btn-subtle-fg:          var(--neutral-900);
  --btn-subtle-border:      color-mix(in oklab, var(--neutral-900) 16%, transparent);

  --btn-ghost-fg:           var(--color-brand-800);
  --btn-ghost-bg-hover:     color-mix(in oklab, var(--color-accent-2) 12%, transparent);

  --btn-danger-bg:          var(--color-danger);
  --btn-danger-bg-hover:    color-mix(in oklab, var(--color-danger) 86%, #000 14%);
  --btn-danger-fg:          #ffffff;
  --btn-danger-shadow:      0 10px 22px color-mix(in oklab, var(--color-danger) 28%, transparent);

  /* Hero */
  --hero-bg-start: color-mix(in oklab, var(--color-brand-900) 34%, #ffffff 66%);
  --hero-bg-mid:   color-mix(in oklab, var(--color-brand-800) 38%, #ffffff 62%);
  --hero-bg-end:   color-mix(in oklab, #e9ecff 70%, var(--color-brand-200) 30%);

  --hero-ink:       color-mix(in oklab, #0b102c 92%, #ffffff 8%);
  --hero-ink-muted: color-mix(in oklab, var(--hero-ink) 66%, transparent);

  --hero-headline-from: color-mix(in oklab, var(--color-brand-400) 58%, var(--color-brand-500) 42%);
  --hero-headline-to:   color-mix(in oklab, var(--color-brand-600) 62%, var(--color-brand-500) 38%);
  --hero-media-blur:    16px;
  --hero-img-blur:      8px;

  --hero-img-opacity: .12;
  --hero-img-blend:   screen;
  --hero-overlay:     color-mix(in oklab, rgba(255,255,255,.62) 16%, transparent);

  /* Dots & arrows */
  --hero-chip:        color-mix(in oklab, rgba(94,100,210,0.16) 65%, rgba(255,255,255,0.62));
  --hero-dot:         color-mix(in oklab, rgba(16,21,52,0.10) 60%, transparent);
  --hero-dot-hover:   color-mix(in oklab, rgba(16,21,52,0.18) 65%, transparent);
  --hero-dot-active:  color-mix(in oklab, var(--color-brand-500) 80%, var(--color-brand-400) 20%);
  --hero-dot-border:  rgba(16,21,52,0.22);

  --hero-arrow-bg:        linear-gradient(132deg,
                             color-mix(in oklab, var(--color-brand-100) 68%, rgba(255,255,255,0.92)) 0%,
                             rgba(255,255,255,0.82) 55%,
                             color-mix(in oklab, var(--color-brand-100) 48%, rgba(255,255,255,0.90)) 100%);
  --hero-arrow-bg-hover:  linear-gradient(132deg,
                             color-mix(in oklab, var(--color-brand-200) 78%, rgba(255,255,255,0.96)) 0%,
                             rgba(255,255,255,0.94) 60%,
                             color-mix(in oklab, var(--color-brand-100) 58%, rgba(255,255,255,0.98)) 100%);
  --hero-arrow-fg:        color-mix(in oklab, var(--color-brand-700) 82%, var(--neutral-900) 18%);
  --hero-arrow-border:    color-mix(in oklab, var(--color-brand-200) 40%, rgba(255,255,255,0.65));
  --hero-arrow-shadow:        rgba(62,49,156,0.28);
  --hero-arrow-shadow-hover:  rgba(62,49,156,0.38);
  --hero-arrow-sheen:         0.78;
  --hero-arrow-radius:        18px;

  --hero-media-border:        color-mix(in oklab, rgba(112,120,210,0.26) 60%, transparent);
  --hero-media-glare:         rgba(255,255,255,0.85);
  --hero-media-surface:       color-mix(in oklab, rgba(255,255,255,0.82) 35%, rgba(241,244,255,0.92) 65%);
  --hero-media-shadow:        0 16px 46px rgba(22,28,72,0.18);
  --hero-media-shadow-hover:  0 24px 60px rgba(16,22,68,0.24);

  /* Features */
  --features-surface:  color-mix(in oklab, var(--color-brand-50) 10%, #ffffff 90%);
  --section-wash: radial-gradient(900px 420px at 50% -120px,
    color-mix(in oklab, var(--color-brand-200) 7%, transparent) 0%,
    transparent 65%);
  --features-card-bg:      #ffffff;
  --features-card-border:  color-mix(in oklab, var(--color-brand-200) 26%, transparent);
  --features-card-shadow:  0 6px 16px color-mix(in oklab, var(--color-brand-300) 16%, transparent);
  --features-text-muted:   color-mix(in oklab, var(--neutral-900) 58%, transparent);

  /* Footer */
  --footer-bg:     #726EDB;
  --footer-fg:     #ffffff;
  --footer-border: rgba(0,0,0,0.14);
}

/* DARK THEME OVERRIDES */
:root[data-theme="dark"],
html.fi.dark {
  /* Accents tuned for dark */
  --color-electric-sky:       #8f89ea;
  --color-electric-sky-hover: #7d74e4;
  --color-electric-sky-focus: #655bdb;

  /* Page */
  --bg-default:   var(--color-brand-900);
  --text-default: var(--neutral-200);
  --bg-elevated:  #161821;

  /* NAV */
  --nav-bg:        rgba(24,24,27,0.60);
  --nav-border:    rgba(255,255,255,0.12);
  --mobile-nav-bg: color-mix(in oklab, var(--color-brand-950) 96%, #000 4%);
  --nav-fg:        #f3f2ff;
  --nav-fg-muted:  rgba(243,242,255,0.82);
  --nav-blur:      12px;

  /* Two-story */
  --nav-top-bg:     var(--nav-bg);
  --nav-bottom-bg:  color-mix(in oklab, var(--nav-bg) 85%, #fff 15%);
  --nav-divider-bg: linear-gradient(90deg, transparent, rgba(255,255,255,.10), transparent);

  /* Chips */
  --nav-link-bg:         color-mix(in oklab, var(--color-brand-400) 22%, transparent);
  --nav-link-hover-bg:   color-mix(in oklab, var(--color-brand-400) 32%, transparent);
  --nav-link-active-bg:  color-mix(in oklab, var(--color-brand-400) 44%, transparent);

  /* Buttons */
  --btn-primary-bg:         var(--color-brand-500);
  --btn-primary-bg-hover:   #7d74e4;
  --btn-primary-fg:         #ffffff;
  --btn-primary-shadow:     0 10px 22px color-mix(in oklab, var(--color-brand-500) 34%, transparent);

  --btn-secondary-bg:       color-mix(in oklab, var(--color-brand-400) 26%, transparent);
  --btn-secondary-bg-hover: color-mix(in oklab, var(--color-brand-400) 36%, transparent);
  --btn-secondary-fg:       #f3f2ff;
  --btn-secondary-border:   color-mix(in oklab, #ffffff 12%, transparent);

  --btn-subtle-bg:          color-mix(in oklab, var(--bg-elevated) 78%, #000 22%);
  --btn-subtle-bg-hover:    color-mix(in oklab, var(--bg-elevated) 88%, #000 12%);
  --btn-subtle-fg:          var(--neutral-200);
  --btn-subtle-border:      color-mix(in oklab, #ffffff 10%, transparent);

  --btn-ghost-fg:           #8f89ea;
  --btn-ghost-bg-hover:     color-mix(in oklab, var(--color-brand-400) 16%, transparent);

  --btn-danger-bg:          var(--color-danger);
  --btn-danger-bg-hover:    color-mix(in oklab, var(--color-danger) 86%, #000 14%);
  --btn-danger-fg:          #ffffff;

  /* Hero */
  --hero-bg-start: color-mix(in oklab, var(--color-brand-950) 88%, #05060f 12%);
  --hero-bg-mid:   color-mix(in oklab, var(--color-brand-900) 80%, #060818 20%);
  --hero-bg-end:   color-mix(in oklab, var(--color-brand-950) 94%, #020309 6%);
  --hero-ink:       rgba(244,246,255,.97);
  --hero-ink-muted: rgba(218,222,255,.84);
  --hero-img-opacity: .22;
  --hero-img-blend:   screen;
  --hero-overlay:     color-mix(in oklab, rgba(3,4,18,.78) 75%, transparent);
  --hero-headline-from: color-mix(in oklab, var(--color-electric-sky) 78%, #f9f8ff 22%);
  --hero-headline-to:   color-mix(in oklab, #c7c8ff 82%, #ffffff 18%);

  /* Dots & arrows */
  --hero-chip:        rgba(60,64,120,.26);
  --hero-dot:         color-mix(in oklab, rgba(112,118,210,.32) 55%, transparent);
  --hero-dot-hover:   color-mix(in oklab, rgba(112,118,210,.42) 65%, transparent);
  --hero-dot-active:  color-mix(in oklab, var(--color-electric-sky) 82%, #9ea3ff 18%);
  --hero-dot-border:  rgba(78,82,150,.48);
  --hero-arrow-bg:        color-mix(in oklab, rgba(26,30,70,0.94) 65%, rgba(12,14,32,0.98));
  --hero-arrow-bg-hover:  color-mix(in oklab, rgba(40,46,96,0.96) 70%, rgba(14,16,36,0.98));
  --hero-arrow-fg:        rgba(216,215,248,0.90);
  --hero-arrow-border:    color-mix(in oklab, rgba(88,90,174,0.55) 58%, transparent);
  --hero-arrow-shadow:        rgba(0,0,0,0.26);
  --hero-arrow-shadow-hover:  rgba(0,0,0,0.32);
  --hero-arrow-sheen:         0.12;
  --hero-arrow-radius:        10px;
  --hero-media-blur:    18px;
  --hero-img-blur:      12px;
  --cta-shadow: 0 24px 52px rgba(70,76,210,0.32);

  --hero-media-border:        color-mix(in oklab, rgba(84,88,172,0.35) 70%, transparent);
  --hero-media-glare:         rgba(66,70,140,0.65);
  --hero-media-surface:       color-mix(in oklab, rgba(16,18,36,0.82) 70%, rgba(24,26,48,0.92) 30%);
  --hero-media-shadow:        0 20px 52px rgba(5,6,24,0.60);
  --hero-media-shadow-hover:  0 28px 68px rgba(6,8,28,0.65);

  /* Section wash */
  --section-wash: radial-gradient(
    900px 420px at 50% -120px,
    color-mix(in oklab, var(--color-accent-2) 14%, transparent) 0%,
    transparent 65%
  );

  /* Features */
  --features-card-bg:      color-mix(in oklab, var(--bg-elevated) 92%, transparent);
  --features-card-border:  rgba(255,255,255,.12);
  --features-card-shadow:  0 8px 22px rgba(0,0,0,.45);
  --features-text-muted:   rgba(243,242,255,.72);

  /* Footer */
  --footer-bg:     color-mix(in oklab, var(--color-brand-950) 92%, #000 8%);
  --footer-fg:     #f3f2ff;
  --footer-border: rgba(255,255,255,.12);
}

/* ──────────────────────────────────────────────────────────────
   Fonts
   ────────────────────────────────────────────────────────────── */
@layer base {
  /* Calibri faces */
  @font-face {
    font-family: "Calibri";
    src: url("/fonts/calibri/calibri.ttf") format("truetype");
    font-weight: 400; font-style: normal; font-display: swap;
  }
  @font-face {
    font-family: "Calibri";
    src: url("/fonts/calibri/calibrib.ttf") format("truetype");
    font-weight: 700; font-style: normal; font-display: swap;
  }
  @font-face {
    font-family: "Calibri";
    src: url("/fonts/calibri/calibrii.ttf") format("truetype");
    font-weight: 400; font-style: italic; font-display: swap;
  }
  @font-face {
    font-family: "Calibri";
    src: url("/fonts/calibri/calibriz.ttf") format("truetype");
    font-weight: 700; font-style: italic; font-display: swap;
  }
  @font-face {
    font-family: "Calibri";
    src: url("/fonts/calibri/calibril.ttf") format("truetype");
    font-weight: 300; font-style: normal; font-display: swap;
  }
  @font-face {
    font-family: "Calibri";
    src: url("/fonts/calibri/calibrili.ttf") format("truetype");
    font-weight: 300; font-style: italic; font-display: swap;
  }

  html {
    font-family: "Calibri", var(--font-sans);
    transition: background-color 0.2s ease, color 0.2s ease;
    scroll-behavior: smooth;
    scroll-padding-top: calc(var(--navbar-h, 64px) + 1rem);
  }

  [lang="ka"] { font-family: "Calibri", sans-serif; }
}
