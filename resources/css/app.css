@source "../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php";
@source "../../storage/framework/views/*.php";
@source "../**/*.blade.php";
@source "../**/*.js";
@source "../**/*.vue";
@source "../../config/**/*.php";

/* Tailwind core (single import) */
@import "tailwindcss";
@import "./theme/tokens.css";

/* ──────────────────────────────────────────────────────────────
   CRITICAL ANTI-JITTER: Set theme BEFORE anything renders
   ────────────────────────────────────────────────────────────── */

/* Default to dark theme to prevent white flash */
:root { --initial-theme: dark; }

/* Hide everything until Alpine and theme are ready */
html:not([data-theme]) {
  background-color: #1a1a1a;
  color: #f3f2ff;
}

/* Don't hide nav — just allow Alpine to enhance later */
#site-nav:not([data-ready="true"]) { visibility: visible !important; opacity: 1 !important; }
#site-nav[data-ready="true"]       { visibility: visible !important; opacity: 1 !important; }


/* Prevent Alpine component flash */
[x-cloak] { display: none !important; }

/* Disable all transitions until Alpine is ready */
.nav-no-transitions,
.nav-no-transitions *,
.nav-no-transitions *::before,
.nav-no-transitions *::after {
  transition: none !important;
  animation: none !important;
  transform: none !important;
}

/* ──────────────────────────────────────────────────────────────
   Utilities + Components
   ────────────────────────────────────────────────────────────── */
@layer utilities {
  /* Brand helpers */
  .text-electric { color: var(--color-electric-sky); }
  .bg-electric   { background-color: var(--color-electric-sky); }
  .hover-electric:hover { color: var(--color-electric-sky); }
  .hover-electric-ink:hover { color: var(--color-electric-sky-hover); }
  .bg-electric-ink:hover    { background-color: var(--color-electric-sky-hover); }

  /* Focus ring */
  .focus-ring { outline: none; }
  .focus-ring:focus-visible {
    outline: 2px solid currentColor;
    outline-offset: 2px;
    border-radius: inherit;
    box-shadow: 0 0 0 2px color-mix(in oklab, var(--color-electric-sky) 70%, transparent);
  }

  /* Page wrapper (optional) */
  .page-wrapper {
    background-color: var(--bg-default);
  }
  .hero-surface {
    padding-top: var(--nav-top-h, 4rem);
    min-height: min(80svh, 100vh);
  }
  @media (min-width: 768px) {
    .hero-surface {
      min-height: 100svh;
    }
  }

  /* Cards / Glass */
  .card {
    border-radius: 1.5rem; background-color: var(--bg-elevated);
    box-shadow: var(--shadow-soft); border-width: 1px;
    border-color: color-mix(in oklab, #fff 10%, transparent);
  }
  .glass {
    border-width: 1px; border-color: color-mix(in oklab, #fff 10%, transparent);
    backdrop-filter: blur(12px);
    background-color: color-mix(in oklab, #fff 6%, transparent);
  }

  /* Controlled backdrop blur application */
  .nav-backdrop-blur {
    backdrop-filter: blur(var(--nav-blur, 12px));
    -webkit-backdrop-filter: blur(var(--nav-blur, 12px));
  }

  /* Main navigation surface - matches Alpine component */
  .nav-surface,
  #site-nav {
    position: fixed; top: 0; left: 0; right: 0; z-index: 50;
    height: var(--nav-top-h);

    /* Visual properties */
    background-color: var(--nav-bg);
    border-bottom: 1px solid var(--nav-border);
    color: var(--nav-fg);
    box-shadow: 0 6px 20px rgba(0,0,0,.22);

    /* Performance optimizations */
    will-change: transform, opacity;
    backface-visibility: hidden;
    -webkit-font-smoothing: antialiased;
    transform: translate3d(0,0,0);
    background-clip: padding-box;

    /* Smooth transitions */
    transition-property: transform, opacity, box-shadow, border-color, background-color;
    transition-duration: 220ms;
    transition-timing-function: cubic-bezier(.16,1,.3,1);
  }

  /* Mobile navigation surface */
  .nav-mobile-surface {
    border-top: 1px solid var(--nav-border);
    color: var(--nav-fg);
    backdrop-filter: blur(var(--nav-blur, 18px));
  }

  /* ─────────────────────────────────────────────
    Desktop nav links — pill outline + glow
    ───────────────────────────────────────────── */
  .nav-link-desktop {
    --underline: var(--color-electric-sky);
    --ink: var(--nav-fg-muted);
    --ink-hover: var(--nav-fg);
    --hover-fill: color-mix(in oklab, var(--underline) 24%, rgba(15,17,35,0.30));
    --active-fill: color-mix(in oklab, var(--underline) 42%, rgba(12,14,32,0.36));
    --hover-glow: color-mix(in oklab, var(--underline) 30%, rgba(90,86,214,0.48));

    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: .55rem;

    padding: .6rem var(--nav-pill-pad-x, .62rem);
    border-radius: 0;
    background-color: color-mix(in oklab, rgba(15,17,35,0.65) 32%, transparent 68%);
    border: 1.5px solid color-mix(in oklab, var(--underline) 55%, rgba(255,255,255,0.5));
    color: var(--ink);

    font-size: 15px;
    font-weight: 600;
    text-decoration: none;
    width: 100%;
    height: 100%;

    transition: color .2s var(--ease-brand), border-color .22s var(--ease-brand),
                background-color .22s var(--ease-brand), box-shadow .28s var(--ease-brand),
                padding .4s var(--ease-brand);
  }

  .nav-link-desktop:hover,
  .nav-link-desktop:focus-visible {
    color: var(--ink-hover);
    background-color: var(--hover-fill);
    border-color: color-mix(in oklab, var(--underline) 48%, rgba(255,255,255,0.45));
    box-shadow: 0 10px 24px color-mix(in oklab, var(--underline) 20%, transparent);
  }

  .nav-link-desktop.nav-link-active {
    color: var(--ink-hover);
    background-color: var(--active-fill);
    border-color: color-mix(in oklab, var(--underline) 70%, rgba(255,255,255,0.6));
    box-shadow: 0 8px 22px color-mix(in oklab, var(--underline) 20%, rgba(0,0,0,0.12));
    --nav-pill-pad-x: .85rem;
  }

  .nav-link-group {
    display: flex;
    flex-wrap: nowrap;
    align-items: stretch;
    gap: 0;
    list-style: none;
    width: 100%;
    height: 100%;
  }

  .nav-link-group li {
    display: flex;
    min-width: 0;
    height: 100%;
  }

  .nav-link-item {
    flex: 1 1 0;
    min-width: 0;
    transition: flex-grow 360ms var(--ease-brand);
    position: relative;
  }

  .nav-link-item + .nav-link-item .nav-link-desktop {
    border-left-width: 0;
  }

  .nav-link-item-active {
    flex-grow: 1.22;
    z-index: 2;
    animation: nav-link-grow 420ms var(--ease-brand) both;
  }

  .nav-link-item:first-child .nav-link-desktop {
    border-top-left-radius: 1rem;
    border-bottom-left-radius: 1rem;
  }

  .nav-link-item:last-child .nav-link-desktop {
    border-top-right-radius: 1rem;
    border-bottom-right-radius: 1rem;
  }

  .nav-link-item:not(:first-child):not(:last-child) .nav-link-desktop {
    border-radius: 0;
  }

  @keyframes nav-link-grow {
    0%   { flex-grow: 1; }
    100% { flex-grow: 1.22; }
  }

  :root[data-theme="light"] .nav-link-desktop {
    --underline: color-mix(in oklab, var(--color-brand-500) 82%, white 18%);
    --ink: color-mix(in oklab, #120f27 82%, white 18%);
    --ink-hover: color-mix(in oklab, var(--color-brand-800) 68%, #0a0d21 32%);
    --hover-fill: color-mix(in oklab, var(--nav-bottom-bg, #726EDB) 42%, rgba(255,255,255,0.96));
    --active-fill: color-mix(in oklab, var(--nav-bottom-bg, #726EDB) 62%, rgba(255,255,255,0.88));
    --hover-glow: color-mix(in oklab, var(--nav-bottom-bg, #726EDB) 58%, rgba(90,86,214,0.55));

    background-color: color-mix(in oklab, var(--nav-bottom-bg, #726EDB) 75%, rgba(255,255,255,0.86));
    border-color: color-mix(in oklab, var(--color-brand-400) 52%, rgba(80,76,210,0.4));
    box-shadow: none;
  }

  :root[data-theme="light"] .nav-link-desktop:hover,
  :root[data-theme="light"] .nav-link-desktop:focus-visible {
    background-color: var(--hover-fill);
    border-color: color-mix(in oklab, var(--nav-bottom-bg, #726EDB) 68%, rgba(90,86,214,0.55));
    box-shadow: 0 14px 32px color-mix(in oklab, var(--nav-bottom-bg, #726EDB) 36%, transparent);
  }

  :root[data-theme="light"] .nav-link-desktop.nav-link-active {
    background-color: var(--active-fill);
    border-color: color-mix(in oklab, var(--nav-bottom-bg, #726EDB) 72%, rgba(90,86,214,0.6));
    box-shadow: 0 12px 30px color-mix(in oklab, var(--nav-bottom-bg, #726EDB) 30%, transparent);
  }
  /* Reduced motion */
  @media (prefers-reduced-motion: reduce) {
    .nav-link-desktop::after { transition: none; }
  }

  /* Two-story navbar layers */
  .nav-story-top    { background-color: var(--nav-top-bg);    color: var(--nav-fg); height: var(--nav-top-h); }
  .nav-story-bottom { background-color: var(--nav-bottom-bg); color: var(--nav-fg); height: var(--nav-bottom-h); }

  /* Divider between stories */
  .nav-story-divider { height: var(--nav-divider-h); background: var(--nav-divider-bg); }

  /* Full-bleed helpers (optional) */
  .nav-bleed { position: relative; isolation: isolate; }
  .nav-bleed::before {
    content: ""; position: absolute; inset: 0 0 0 50%;
    width: 100vw; transform: translateX(-50%); background: inherit; z-index: -1;
  }
  .nav-divider-bleed { position: relative; isolation: isolate; }
  .nav-divider-bleed::before {
    content: ""; position: absolute; top: 0; bottom: 0; left: 50%;
    width: 100vw; transform: translateX(-50%); background: var(--nav-divider-bg); z-index: -1;
  }

  /* BUTTONS */
  .btn {
    display: inline-flex; align-items: center; gap: .5rem; border-radius: 1rem;
    padding: .5rem 1rem; font-weight: 500;
    transition-property: background-color, box-shadow, transform, color, border-color;
    transition-duration: 200ms; transition-timing-function: var(--ease-brand);
    position: relative;
  }
  .btn-xs { padding:.375rem .625rem; font-size:.8125rem; border-radius:.625rem; }
  .btn-sm { padding:.4375rem .75rem;  font-size:.875rem;  border-radius:.75rem; }
  .btn-md { padding:.5rem 1rem;       font-size:.9375rem; border-radius:1rem; }
  .btn-lg { padding:.625rem 1.25rem;  font-size:1rem;     border-radius:1rem; }
  .btn-block { display:inline-flex; width:100%; justify-content:center; }

  .btn-primary { background: var(--btn-primary-bg); color: var(--btn-primary-fg); box-shadow: var(--btn-primary-shadow, var(--shadow-brand)); }
  .btn-primary:hover { background: var(--btn-primary-bg-hover); transform: translateY(-1px); }
  .btn-primary:active { transform: translateY(.5px) scale(.995); }

  .btn-secondary { background: var(--btn-secondary-bg); color: var(--btn-secondary-fg); border: 1px solid var(--btn-secondary-border); backdrop-filter: blur(6px); }
  .btn-secondary:hover { background: var(--btn-secondary-bg-hover); }
  .btn-secondary:active { transform: translateY(.5px) scale(.995); }

  .btn-subtle { background: var(--btn-subtle-bg); color: var(--btn-subtle-fg); border: 1px solid var(--btn-subtle-border); }
  .btn-subtle:hover { background: var(--btn-subtle-bg-hover); }
  .btn-subtle:active { transform: translateY(.5px) scale(.995); }

  .btn-ghost { background: transparent; color: var(--btn-ghost-fg); }
  .btn-ghost:hover { background: var(--btn-ghost-bg-hover); }
  .btn-ghost:active { transform: translateY(.5px) scale(.995); }

  .btn-danger { background: var(--btn-danger-bg); color: var(--btn-danger-fg); box-shadow: var(--btn-danger-shadow, 0 10px 22px color-mix(in oklab, var(--btn-danger-bg) 28%, transparent)); }
  .btn-danger:hover { background: var(--btn-danger-bg-hover); }
  .btn-danger:active { transform: translateY(.5px) scale(.995); }

  .btn:focus-visible,
  .btn-primary:focus-visible,
  .btn-secondary:focus-visible,
  .btn-subtle:focus-visible,
  .btn-ghost:focus-visible,
  .btn-danger:focus-visible,
  .btn-hero:focus-visible {
    outline: none;
    box-shadow: 0 0 0 2px color-mix(in oklab, var(--color-electric-sky) 70%, transparent);
  }

  /* THEME-AWARE HERO BUTTON */
  :root[data-theme="light"] .btn-hero {
    background: var(--btn-primary-bg); color: var(--btn-primary-fg); box-shadow: var(--btn-primary-shadow, var(--shadow-brand));
  }
  :root[data-theme="light"] .btn-hero:hover { background: var(--btn-primary-bg-hover); transform: translateY(-1px); }
  :root[data-theme="light"] .btn-hero:active { transform: translateY(.5px) scale(.995); }

  :root[data-theme="dark"] .btn-hero {
    background: var(--btn-secondary-bg); color: var(--btn-secondary-fg); border: 1px solid var(--btn-secondary-border); backdrop-filter: blur(6px);
  }
  :root[data-theme="dark"] .btn-hero:hover { background: var(--btn-secondary-bg-hover); }
  :root[data-theme="dark"] .btn-hero:active { transform: translateY(.5px) scale(.995); }

  /* Extra contrast for buttons in light nav */
  :root[data-theme="light"] .nav-surface .btn-primary {
    background: #ffffff; color: var(--color-brand-700); box-shadow: 0 8px 18px rgba(0,0,0,.25);
  }
  :root[data-theme="light"] .nav-surface .btn-primary:hover { background: #f6f5ff; }
  :root[data-theme="light"] .nav-surface .btn-secondary {
    background: transparent; color: #ffffff; border-color: rgba(255,255,255,.70);
  }
  :root[data-theme="light"] .nav-surface .btn-secondary:hover { background: rgba(255,255,255,.10); }
  :root[data-theme="dark"] .nav-surface .btn-secondary { border-color: rgba(255,255,255,.22); }

  /* THEME ICONS & LOGO SWAP */
  .theme-icon { pointer-events: none; transition: opacity .15s ease, transform .15s ease; }

  /* Standardized logo footprint */
  /* Fixed-size wrapper (prevents shift) */
  .logo-swap{
    --logo-w: 130px;
    --logo-h: 30px;
    position: relative;
    width: var(--logo-w);
    height: var(--logo-h);
    display: inline-block;
    line-height: 0;
    vertical-align: middle;
  }

  /* Stack both images; fade only */
  .logo-swap img{
    position: absolute; inset: 0;
    width: 100%; height: 100%;
    object-fit: contain;
    pointer-events: none;
    transition: opacity .18s ease;
    will-change: opacity;
  }

  /* DEFAULTS */
  :root[data-theme="light"] .logo-swap .logo-img--light { opacity: 1; }
  :root[data-theme="light"] .logo-swap .logo-img--dark  { opacity: 0; }

  :root[data-theme="dark"]  .logo-swap .logo-img--light { opacity: 1; }
  :root[data-theme="dark"]  .logo-swap .logo-img--dark  { opacity: 0; }

  /* HOVER */
  :root[data-theme="light"] .logo-swap:hover .logo-img--light { opacity: 0; } 
  :root[data-theme="light"] .logo-swap:hover .logo-img--dark  { opacity: 1; }

  /* HOVER DARK */
  :root[data-theme="dark"]  .logo-swap:hover .logo-img--light { opacity: 0; }
  :root[data-theme="dark"]  .logo-swap:hover .logo-img--dark  { opacity: 1; }

  /* No flash before theme is set */
  html:not([data-theme]) .logo-swap img { opacity: 0 !important; }
  /* Icon buttons (theme / language) hover feedback */
  .nav-icon-btn {
    transition: background-color .2s ease, box-shadow .2s ease, color .2s ease, transform .2s ease;
  }
  :root[data-theme="dark"]  .nav-icon-btn:hover  { background: rgba(255,255,255,.08); box-shadow: inset 0 0 0 1px rgba(255,255,255,.12); }
  :root[data-theme="light"] .nav-icon-btn:hover { background: color-mix(in oklab, var(--color-electric-sky) 12%, transparent);
                                                  box-shadow: inset 0 0 0 1px color-mix(in oklab, var(--color-electric-sky) 45%, transparent);
                                                  color: var(--color-electric-sky); }
  .nav-icon-btn:hover .theme-icon { transform: rotate(10deg) scale(1.02); }

  /* ──────────────────────────────────────────────────────────────
     HERO (unchanged except minor tidy)
     ────────────────────────────────────────────────────────────── */
  .hero-arrow {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 56px;
    height: 56px;
    padding: 0;
    border-radius: var(--hero-arrow-radius, 18px);
    border: 0;
    background: transparent;
    color: var(--hero-arrow-fg);
    isolation: isolate;
    cursor: pointer;
    transition: color .25s var(--ease-brand), transform .25s var(--ease-brand), opacity .25s var(--ease-brand);
  }
  .hero-arrow::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: var(--hero-arrow-bg);
    border: 1px solid var(--hero-arrow-border);
    box-shadow: none;
    opacity: 0.96;
    transition: background .25s var(--ease-brand),
                box-shadow .25s var(--ease-brand),
                transform .25s var(--ease-brand),
                opacity .25s var(--ease-brand);
  }
  .hero-arrow::after {
    content: "";
    position: absolute;
    inset: 1.5px;
    border-radius: inherit;
    background: radial-gradient(circle at 28% 22%, rgba(255,255,255,0.68), transparent 58%);
    opacity: var(--hero-arrow-sheen, 0.8);
    mix-blend-mode: screen;
    pointer-events: none;
    transition: opacity .25s var(--ease-brand);
  }
  .hero-arrow .hero-arrow__icon {
    position: relative;
    z-index: 1;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 22px;
    height: 22px;
  }
  .hero-arrow .hero-arrow__icon svg {
    width: 100%;
    height: 100%;
    transition: transform .25s var(--ease-brand);
  }
  :root[data-theme="dark"] .hero-arrow::before,
  [data-theme="dark"] .hero-arrow::before,
  .dark .hero-arrow::before {
    box-shadow: 0 10px 24px var(--hero-arrow-shadow);
  }
  .hero-arrow:hover::before {
    background: var(--hero-arrow-bg-hover);
    box-shadow: 0 16px 30px var(--hero-arrow-shadow-hover);
    opacity: 1;
  }
  .hero-arrow:hover .hero-arrow__icon svg {
    transform: scale(1.03);
  }
  .hero-arrow:focus-visible::before {
    transform: translateY(0);
    box-shadow:
      0 0 0 2.5px color-mix(in oklab, var(--hero-arrow-border) 58%, transparent),
      0 20px 34px var(--hero-arrow-shadow-hover);
  }
  .hero-arrow:focus-visible::after {
    opacity: 1;
  }
  .hero-arrow.hero-arrow--compact {
    width: 44px;
    height: 44px;
  }
  .hero-arrow.hero-arrow--compact::after {
    inset: 1px;
  }
  .hero-arrow.hero-arrow--compact .hero-arrow__icon {
    width: 18px;
    height: 18px;
  }
  .hero-arrow.hero-arrow--inactive {
    opacity: 0;
    pointer-events: none;
    transform: translate3d(var(--hero-arrow-hide-offset, -10px), 0, 0);
  }
  .hero-arrow.hero-arrow--inactive[data-direction="next"] {
    --hero-arrow-hide-offset: 10px;
  }
  .hero-arrow:active::before {
    background: var(--hero-arrow-bg-active, var(--hero-arrow-bg-hover));
    box-shadow: 0 8px 18px var(--hero-arrow-shadow-hover, var(--hero-arrow-shadow));
    transform: translateY(1px) scale(0.985);
  }
  .hero-arrow:active .hero-arrow__icon svg {
    transform: translateX(0) scale(0.95);
  }

  .service-card {
    position: relative;
    border-radius: 28px;
    border: 1px solid color-mix(in oklab, var(--color-brand-200) 32%, transparent);
    background: linear-gradient(150deg,
      color-mix(in oklab, var(--color-brand-50) 92%, rgba(255,255,255,0.14)) 0%,
      color-mix(in oklab, var(--color-brand-100) 82%, rgba(91,86,214,0.16)) 52%,
      color-mix(in oklab, var(--color-brand-200) 70%, rgba(72,68,180,0.12)) 100%);
    padding: clamp(1.5rem, 1.6vw + 1.25rem, 2.6rem);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    box-shadow: 0 18px 44px rgba(32,30,86,0.16);
    isolation: isolate;
  }
  .service-card::before {
    content: "";
    position: absolute;
    inset: -1px;
    border-radius: inherit;
    background: linear-gradient(165deg,
      rgba(255,255,255,0.42) 0%,
      rgba(255,255,255,0.04) 48%,
      transparent 72%);
    opacity: 0.34;
    pointer-events: none;
  }
  .service-card__body {
    position: relative;
    z-index: 1;
  }
  .service-card__title {
    margin-bottom: 0.65rem;
    font-weight: 800;
    letter-spacing: -0.01em;
    background-image: linear-gradient(96deg,
      color-mix(in oklab, var(--color-brand-500) 86%, var(--color-brand-400) 14%),
      color-mix(in oklab, var(--color-brand-600) 72%, var(--color-brand-400) 28%));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    text-shadow: 0 12px 26px rgba(52,48,122,0.22);
  }
  .service-card__excerpt {
    color: color-mix(in oklab, var(--text-default) 78%, transparent);
  }
  .service-card__long {
    color: color-mix(in oklab, var(--text-default) 74%, transparent);
  }
  .service-card__toggle {
    color: color-mix(in oklab, var(--color-brand-500) 88%, var(--color-brand-300) 12%);
  }
  .service-card__toggle:hover,
  .service-card__toggle:focus-visible {
    color: color-mix(in oklab, var(--color-brand-500) 68%, var(--color-brand-300) 32%);
  }
  .service-card__media {
    position: relative;
    z-index: 1;
  }
  .service-card__visual {
    position: relative;
    width: 100%;
    border-radius: 22px;
    overflow: hidden;
    border: 1px solid color-mix(in oklab, var(--color-brand-200) 30%, transparent);
    background: linear-gradient(160deg,
      color-mix(in oklab, var(--color-brand-50) 90%, rgba(255,255,255,0.16)) 0%,
      color-mix(in oklab, var(--color-brand-200) 68%, rgba(34,30,98,0.28)) 100%);
    box-shadow: 0 20px 46px rgba(34,30,98,0.22);
    transition: box-shadow .3s var(--ease-brand), filter .3s var(--ease-brand);
  }
  .service-card__visual::after {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: linear-gradient(125deg, rgba(255,255,255,0.28), transparent 55%);
    opacity: 0.5;
    pointer-events: none;
    transition: opacity .3s var(--ease-brand);
  }
  .service-card__visual--fallback {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 1.5rem;
    padding: clamp(1.5rem, 2vw + 1rem, 2.6rem);
    text-align: center;
    color: color-mix(in oklab, var(--text-default) 82%, transparent);
  }
  .service-card__cue-label {
    text-transform: uppercase;
    letter-spacing: 0.22em;
    font-size: 0.72rem;
    font-weight: 600;
    color: color-mix(in oklab, var(--text-default) 68%, transparent);
  }
  .service-card__bars {
    display: flex;
    align-items: flex-end;
    justify-content: center;
    gap: 0.65rem;
    width: 100%;
    max-width: 200px;
    height: 96px;
  }
  .service-card__bar {
    flex: 1;
    border-radius: 999px 999px 0 0;
    background: linear-gradient(180deg,
      color-mix(in oklab, var(--color-electric-sky) 88%, transparent),
      color-mix(in oklab, var(--color-brand-600) 65%, transparent));
    box-shadow: inset 0 -1px 0 rgba(255,255,255,0.26);
  }
  .service-card__dots {
    display: grid;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: 0.75rem;
    justify-items: center;
  }
  .service-card__dot {
    width: 12px;
    height: 12px;
    border-radius: 999px;
    background: color-mix(in oklab, var(--text-default) 22%, transparent);
    box-shadow: inset 0 0 0 1px rgba(255,255,255,0.08);
    transition: background-color .25s var(--ease-brand), transform .25s var(--ease-brand);
  }
  .service-card__dot.is-active {
    background: color-mix(in oklab, var(--color-electric-sky) 92%, transparent);
    transform: scale(1.1);
  }
  .service-card__bubbles {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 0.6rem;
    max-width: 220px;
  }
  .service-card__bubble {
    border-radius: 999px;
    background: color-mix(in oklab, var(--color-electric-sky) 76%, transparent);
    box-shadow:
      inset 0 0 0 1px rgba(255,255,255,0.22),
      0 6px 18px rgba(34,30,98,0.16);
    opacity: 0.95;
  }
  :root[data-theme="dark"] .service-card,
  [data-theme="dark"] .service-card,
  .dark .service-card {
    border-color: color-mix(in oklab, rgba(132,142,230,0.52) 48%, transparent);
    background: linear-gradient(152deg,
      color-mix(in oklab, rgba(22,24,56,0.94) 90%, transparent) 0%,
      color-mix(in oklab, rgba(18,20,48,0.94) 92%, transparent) 46%,
      color-mix(in oklab, rgba(12,14,36,0.96) 100%, transparent) 100%);
    box-shadow: 0 24px 52px rgba(4,6,24,0.55);
  }
  :root[data-theme="dark"] .service-card::before,
  [data-theme="dark"] .service-card::before,
  .dark .service-card::before {
    background: linear-gradient(165deg,
      rgba(122,130,238,0.32),
      transparent 72%);
    opacity: 0.38;
  }
  :root[data-theme="dark"] .service-card__excerpt,
  [data-theme="dark"] .service-card__excerpt,
  .dark .service-card__excerpt {
    color: color-mix(in oklab, #f5f4ff 72%, transparent);
  }
  :root[data-theme="dark"] .service-card__long,
  [data-theme="dark"] .service-card__long,
  .dark .service-card__long {
    color: color-mix(in oklab, #f5f4ff 68%, transparent);
  }
  :root[data-theme="dark"] .service-card__visual,
  [data-theme="dark"] .service-card__visual,
  .dark .service-card__visual {
    border-color: color-mix(in oklab, rgba(136,144,236,0.4) 54%, transparent);
    background: linear-gradient(160deg,
      color-mix(in oklab, rgba(32,36,88,0.92) 92%, transparent) 0%,
      color-mix(in oklab, rgba(18,20,50,0.92) 96%, transparent) 100%);
    box-shadow: 0 26px 52px rgba(0,0,0,0.46);
  }
  :root[data-theme="dark"] .service-card__visual::after,
  [data-theme="dark"] .service-card__visual::after,
  .dark .service-card__visual::after {
    background: linear-gradient(125deg, rgba(132,142,230,0.3), transparent 60%);
    opacity: 0.38;
  }
  :root[data-theme="dark"] .service-card__visual--fallback,
  [data-theme="dark"] .service-card__visual--fallback,
  .dark .service-card__visual--fallback {
    color: color-mix(in oklab, rgba(238,239,255,0.88) 88%, transparent);
  }
  :root[data-theme="dark"] .service-card__cue-label,
  [data-theme="dark"] .service-card__cue-label,
  .dark .service-card__cue-label {
    color: color-mix(in oklab, rgba(210,214,255,0.78) 78%, transparent);
  }
  :root[data-theme="dark"] .service-card__dot,
  [data-theme="dark"] .service-card__dot,
  .dark .service-card__dot {
    background: color-mix(in oklab, rgba(118,122,180,0.42) 68%, transparent);
  }
  :root[data-theme="dark"] .service-card__dot.is-active,
  [data-theme="dark"] .service-card__dot.is-active,
  .dark .service-card__dot.is-active {
    background: color-mix(in oklab, rgba(132,142,240,0.92) 92%, transparent);
  }
  :root[data-theme="dark"] .service-card__bubble,
  [data-theme="dark"] .service-card__bubble,
  .dark .service-card__bubble {
    background: color-mix(in oklab, rgba(132,142,240,0.78) 78%, transparent);
    box-shadow:
      inset 0 0 0 1px rgba(24,26,56,0.45),
      0 10px 26px rgba(0,0,0,0.45);
  }


  .team-card {
    position: relative;
    border-radius: 20px;
    border: 1px solid color-mix(in oklab, var(--color-brand-200) 30%, transparent);
    background: linear-gradient(170deg,
      color-mix(in oklab, var(--color-brand-50) 76%, rgba(255,255,255,0.14)) 0%,
      color-mix(in oklab, var(--color-brand-100) 68%, rgba(91,86,214,0.1)) 52%,
      color-mix(in oklab, var(--color-brand-200) 60%, rgba(91,86,214,0.06)) 100%);
    box-shadow: none;
    transform: translate3d(0,0,0);
    transition:
      transform .28s var(--ease-brand),
      border-color .28s var(--ease-brand),
      box-shadow .28s var(--ease-brand),
      background .28s var(--ease-brand);
  }
  .team-card::after {
    content: "";
    position: absolute;
    inset: -1px;
    border-radius: inherit;
    background: linear-gradient(165deg, rgba(255,255,255,0.32), transparent 60%);
    opacity: 0;
    transition: opacity .28s var(--ease-brand);
    pointer-events: none;
  }
  .team-card:hover,
  .team-card:focus-visible {
    transform: translate3d(0,-6px,0);
    border-color: color-mix(in oklab, var(--color-electric-sky) 32%, transparent);
    box-shadow: 0 20px 46px rgba(28,34,90,0.18);
    background: linear-gradient(170deg,
      color-mix(in oklab, var(--color-brand-100) 74%, rgba(255,255,255,0.15)) 0%,
      color-mix(in oklab, var(--color-brand-200) 66%, rgba(91,86,214,0.12)) 100%);
  }
  .team-card:hover::after,
  .team-card:focus-visible::after {
    opacity: 0.4;
  }
  :root[data-theme="dark"] .team-card,
  [data-theme="dark"] .team-card,
  .dark .team-card {
    border-color: color-mix(in oklab, rgba(130,138,226,0.38) 52%, transparent);
    background: linear-gradient(170deg,
      color-mix(in oklab, rgba(16,18,44,0.94) 92%, transparent) 0%,
      color-mix(in oklab, rgba(10,12,30,0.96) 100%, transparent) 100%);
    box-shadow: none;
  }
  :root[data-theme="dark"] .team-card::after,
  [data-theme="dark"] .team-card::after,
  .dark .team-card::after {
    background: linear-gradient(165deg, rgba(120,130,220,0.24), transparent 60%);
  }
  :root[data-theme="dark"] .team-card:hover,
  [data-theme="dark"] .team-card:hover,
  .dark .team-card:hover,
  :root[data-theme="dark"] .team-card:focus-visible,
  [data-theme="dark"] .team-card:focus-visible,
  .dark .team-card:focus-visible {
    border-color: color-mix(in oklab, rgba(132,142,230,0.62) 60%, transparent);
    box-shadow: 0 20px 46px rgba(0,0,0,0.45);
    background: color-mix(in oklab, rgba(26,30,60,0.94) 95%, transparent);
  }

  .hero-dot {
    position: relative;
    width: 28px;
    height: 10px;
    border-radius: 9999px;
    border: 1px solid color-mix(in oklab, var(--hero-dot-border) 80%, transparent);
    background: color-mix(in oklab, var(--hero-dot) 88%, transparent);
    overflow: hidden;
    transition: background-color .22s var(--ease-brand), border-color .22s var(--ease-brand);
  }
  .hero-dot::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: linear-gradient(90deg, var(--hero-dot-active), color-mix(in oklab, var(--hero-dot-active) 46%, transparent));
    transform-origin: left center;
    transform: scaleX(var(--hero-dot-progress, 0));
    opacity: 0;
    transition: transform .28s var(--ease-brand), opacity .28s var(--ease-brand);
  }
  .hero-dot::after {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: linear-gradient(145deg, rgba(255,255,255,0.22), transparent 55%);
    mix-blend-mode: screen;
    opacity: 0.35;
    pointer-events: none;
    transition: opacity .22s var(--ease-brand);
  }
  .hero-dot:hover {
    background: color-mix(in oklab, var(--hero-dot) 94%, transparent);
    border-color: color-mix(in oklab, var(--hero-dot-border) 74%, transparent);
  }
  .hero-dot:hover::after { opacity: 0.55; }
  .hero-dot.is-active {
    border-color: color-mix(in oklab, var(--hero-dot-border) 90%, transparent);
    background: color-mix(in oklab, var(--hero-dot) 96%, transparent);
  }
  .hero-dot.is-active::before { opacity: 1; }
  .hero-dot:focus-visible {
    outline: none;
    box-shadow:
      0 0 0 2px color-mix(in oklab, var(--hero-dot-active) 35%, transparent),
      0 8px 18px rgba(0,0,0,0.18);
  }

  :root {
    --hero-mesh-a: color-mix(in oklab, rgba(118,126,252,0.28) 70%, transparent);
    --hero-mesh-b: color-mix(in oklab, rgba(120,222,255,0.20) 60%, transparent);
    --hero-mesh-c: color-mix(in oklab, rgba(146,130,255,0.22) 65%, transparent);
    --hero-noise:
        radial-gradient(620px 420px at 18% 6%, var(--hero-mesh-a) 0%, transparent 72%),
        radial-gradient(680px 480px at 78% 14%, var(--hero-mesh-b) 0%, transparent 74%),
        radial-gradient(960px 640px at 52% 88%, color-mix(in oklab, var(--hero-mesh-c) 80%, transparent) 0%, transparent 80%);
  }
  :root[data-theme="dark"] {
    --hero-mesh-a: color-mix(in oklab, rgba(72,78,164,0.42) 70%, transparent);
    --hero-mesh-b: color-mix(in oklab, rgba(64,112,192,0.36) 65%, transparent);
    --hero-mesh-c: color-mix(in oklab, rgba(132,118,248,0.38) 60%, transparent);
    --hero-noise:
        radial-gradient(560px 420px at 20% 8%, var(--hero-mesh-a) 0%, transparent 74%),
        radial-gradient(700px 500px at 78% 20%, var(--hero-mesh-b) 0%, transparent 78%),
        radial-gradient(960px 620px at 50% 92%, color-mix(in oklab, var(--hero-mesh-c) 70%, transparent) 0%, transparent 82%);
  }

  .hero-surface {
    background:
      radial-gradient(120% 110% at 50% -10%, color-mix(in oklab, var(--hero-overlay) 45%, transparent) 0%, transparent 70%),
      var(--hero-noise),
      linear-gradient(128deg, var(--hero-bg-start) 0%, var(--hero-bg-mid) 52%, var(--hero-bg-end) 100%);
    isolation: isolate;
  }
  .hero-highlight {
    background-image: linear-gradient(98deg, var(--hero-headline-from), var(--hero-headline-to));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    text-shadow: 0 0 28px color-mix(in oklab, var(--hero-headline-to) 24%, transparent);
  }
  .hero-heading {
    color: var(--hero-ink);
    font-weight: 750;
    letter-spacing: -0.03em;
    text-shadow: none;
  }
  .hero-subtitle {
    color: var(--hero-ink-muted);
    text-shadow: none;
    max-width: 52ch;
    letter-spacing: -0.01em;
  }
  .hero-actions { gap: clamp(.65rem, 1.2vw, 1rem); }
  .hero-media {
    position: relative;
    border: 1px solid var(--hero-media-border);
    backdrop-filter: blur(var(--hero-media-blur, 16px)) saturate(135%);
    -webkit-backdrop-filter: blur(var(--hero-media-blur, 16px)) saturate(135%);
    background: var(--hero-media-surface);
    box-shadow: var(--hero-media-shadow);
    overflow: hidden;
    transform: translateZ(0);
    transition: transform .28s var(--ease-brand), box-shadow .28s var(--ease-brand), border-color .28s var(--ease-brand);
  }
  .hero-media::after {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: linear-gradient(120deg, rgba(255,255,255,0.12), transparent 30%, transparent 65%, rgba(255,255,255,0.08));
    mix-blend-mode: screen;
    opacity: 0.35;
    pointer-events: none;
    transition: opacity .28s var(--ease-brand);
  }
  .hero-media:hover {
    transform: translateY(-4px);
    border-color: color-mix(in oklab, var(--hero-media-border) 60%, rgba(255,255,255,0.24));
    box-shadow: var(--hero-media-shadow-hover);
  }
  .hero-media:hover::after { opacity: 0.55; }
  .hero-media:focus-visible {
    outline: none;
    border-color: color-mix(in oklab, var(--hero-media-border) 70%, rgba(255,255,255,0.32));
    box-shadow:
      0 0 0 2px color-mix(in oklab, var(--color-electric-sky) 38%, transparent),
      var(--hero-media-shadow-hover);
  }
  @keyframes kenburns { 0% { transform: scale(1) } 100% { transform: scale(1.06) } }
  .hero-bgimg {
    will-change: transform, opacity, filter;
    animation: kenburns 18s ease-in-out both;
    filter: blur(var(--hero-img-blur, 0px));
    -webkit-filter: blur(var(--hero-img-blur, 0px));
  }

  @keyframes fadeUp { from { opacity: 0; transform: translateY(6px) } to { opacity: 1; transform: translateY(0) } }
  .animate-fadeUp { animation: fadeUp .6s var(--ease-brand) both; }

  /* Feature cards */
  .section-wash-bg { background: var(--section-wash); }
  .feature-card { background-color: var(--features-card-bg); border: 1px solid var(--features-card-border); box-shadow: var(--features-card-shadow); }
  .feature-muted { color: var(--features-text-muted); }

  /* Footer */
  .footer-surface { color: var(--footer-fg); background-color: var(--footer-bg); border-top: 1px solid var(--footer-border); }

  /* Misc */
  .logo-chip {
    display: grid; place-items: center; border-radius: 6px;
    box-shadow: 0 8px 16px rgba(0,0,0,.28); width: 2.5rem; height: 2.5rem; color: #fff;
  }
  .logo-chip-dg   { background: var(--color-brand-500); }
  .logo-chip-step { background: var(--color-brand-300); }

  .flag-emoji { display: inline-block; width: 1.25em; text-align: center; font-size: 18px; line-height: 1; transform: translateY(1px); }
  .no-tint, .no-tint * { mix-blend-mode: normal !important; opacity: 1 !important; filter: none !important; isolation: isolate; }
  .bg-brand-screen { background-color: #5b56d6; }
}

/* ──────────────────────────────────────────────────────────────
   REDUCED MOTION PREFERENCES
   ────────────────────────────────────────────────────────────── */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  .theme-icon { transition: opacity .2s linear !important; transform: none !important; }
  .hero-arrow, .hero-bgimg, .animate-fadeUp { transition: none !important; transform: none !important; animation: none !important; }
}

/* Hide all horizontal scrollbar UI across browsers */
.no-scrollbar::-webkit-scrollbar { display: none; }
.no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
/* Extra belt-and-suspenders for some Edge/Win builds */
.no-scrollbar { scrollbar-color: transparent transparent; }
